{% extends "base.html" %}
{% load humanize %}

{% block title %}
{% if res.payment_status == 'paid' %}
Pago exitoso
{% else %}
Reserva ingresada
{% endif %} â€” Hotel Pacific Reef
{% endblock %}

{% block content %}
<div class="container" style="padding:36px 0">
  <div class="card" style="background:#fff;padding:22px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.12)">

    {% if res.payment_status == "paid" %}
      <h2>Â¡Pago realizado con Ã©xito!</h2>
      <p>Tu reserva quedÃ³ <b>confirmada</b>. Te esperamos ğŸ‘‹</p>
    {% else %}
      <h2>Â¡Reserva ingresada!</h2>
      <p>
        <b>{{ res.holder_name }}</b>, tu reserva fue registrada.
        Para confirmarla, por favor completa el pago.
      </p>
    {% endif %}

    <ul style="list-style:none;padding:0;margin:12px 0;color:#444">
      <li>HabitaciÃ³n: <b>{{ res.room.name }}</b></li>
      <li>Entrada: <b>{{ res.check_in }}</b></li>
      <li>Salida: <b>{{ res.check_out }}</b></li>
      <li>HuÃ©spedes: <b>{{ res.guests }}</b></li>
      <li>Total: <b>${{ res.total_amount|intcomma }}</b></li>
      <li>Anticipo (30%): <b>${{ res.deposit_30|intcomma }}</b></li>


      <li>Estado: <b>{{ res.get_payment_status_display }}</b></li>
    </ul>

    {% if res.payment_status == "pending" %}
      <a class="btn btn--primary" href="{% url 'payment' res.id %}" style="margin-top:12px">Pagar ahora</a>
    {% else %}
      <a class="btn btn--ghost" href="{% url 'home' %}" style="margin-top:12px">Volver al inicio</a>
    {% endif %}

  </div>
</div>
{% endblock %}
